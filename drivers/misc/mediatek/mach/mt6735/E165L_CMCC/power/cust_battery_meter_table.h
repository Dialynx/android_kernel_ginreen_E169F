#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
//xuzhifeng 20150724 begin
#define BAT_NTC_10 0
#define BAT_NTC_47 1

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#endif

#define RBAT_PULL_UP_VOLT          1800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,68237},
        {-15,53650},
        {-10,42506},
        { -5,33892},
        {  0,27219},
        {  5,22021},
        { 10,17926},
        { 15,14674},
        { 20,12081},
        { 25,10000},
        { 30,8315},
        { 35,6948},
        { 40,5834},
        { 45,4917},
        { 50,4161},
        { 55,3535},
        { 60,3014}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
{0  , 4329 },
{1  , 4307 },
{3  , 4287 },
{4  , 4262 },
{6  , 4237 },
{7  , 4212 },
{9  , 4191 },
{10 , 4173 },
{11 , 4158 },
{13 , 4142 },
{14 , 4128 },
{16 , 4114 },
{17 , 4101 },
{19 , 4091 },
{20 , 4085 },
{21 , 4077 },
{23 , 4059 },
{24 , 4033 },
{26 , 4007 },
{27 , 3988 },
{28 , 3975 },
{30 , 3963 },
{31 , 3954 },
{33 , 3946 },
{34 , 3938 },
{36 , 3930 },
{37 , 3920 },
{38 , 3909 },
{40 , 3898 },
{41 , 3887 },
{43 , 3877 },
{44 , 3868 },
{46 , 3860 },
{47 , 3853 },
{48 , 3846 },
{50 , 3840 },
{51 , 3834 },
{53 , 3828 },
{54 , 3823 },
{56 , 3818 },
{57 , 3813 },
{58 , 3809 },
{60 , 3804 },
{61 , 3800 },
{63 , 3796 },
{64 , 3792 },
{65 , 3789 },
{67 , 3786 },
{68 , 3783 },
{70 , 3779 },
{71 , 3777 },
{73 , 3773 },
{74 , 3769 },
{75 , 3765 },
{77 , 3760 },
{78 , 3755 },
{80 , 3748 },
{81 , 3741 },
{83 , 3733 },
{84 , 3725 },
{85 , 3717 },
{87 , 3712 },
{88 , 3708 },
{90 , 3704 },
{91 , 3701 },
{93 , 3697 },
{94 , 3689 },
{95 , 3671 },
{97 , 3633 },
{98 , 3602 },
{98 , 3578 },
{99 , 3558 },
{99 , 3542 },
{99 , 3529 },
{99 , 3518 },
{99 , 3509 },
{99 , 3503 },
{100, 3498 },
{100, 3494 },
{100, 3491 },
{100, 3489 },
{100, 3486 } 
       
};      
        
// T1 0C 
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
{0  , 4322 },
{1  , 4284 },
{3  , 4253 },
{4  , 4230 },
{5  , 4213 },
{7  , 4197 },
{8  , 4183 },
{9  , 4169 },
{11 , 4156 },
{12 , 4143 },
{13 , 4130 },
{15 , 4117 },
{16 , 4105 },
{17 , 4093 },
{19 , 4083 },
{20 , 4077 },
{21 , 4071 },
{23 , 4055 },
{24 , 4031 },
{25 , 4006 },
{27 , 3988 },
{28 , 3975 },
{29 , 3965 },
{31 , 3956 },
{32 , 3950 },
{33 , 3944 },
{35 , 3937 },
{36 , 3926 },
{37 , 3915 },
{39 , 3903 },
{40 , 3891 },
{41 , 3881 },
{43 , 3870 },
{44 , 3860 },
{45 , 3852 },
{47 , 3845 },
{48 , 3838 },
{49 , 3832 },
{51 , 3827 },
{52 , 3821 },
{53 , 3816 },
{55 , 3811 },
{56 , 3807 },
{57 , 3803 },
{58 , 3799 },
{60 , 3795 },
{61 , 3791 },
{62 , 3788 },
{64 , 3784 },
{65 , 3781 },
{66 , 3779 },
{68 , 3776 },
{69 , 3774 },
{70 , 3771 },
{72 , 3769 },
{73 , 3766 },
{74 , 3763 },
{76 , 3759 },
{77 , 3754 },
{78 , 3748 },
{80 , 3740 },
{81 , 3731 },
{82 , 3720 },
{84 , 3709 },
{85 , 3703 },
{86 , 3699 },
{88 , 3697 },
{89 , 3695 },
{90 , 3693 },
{92 , 3690 },
{93 , 3680 },
{94 , 3644 },
{96 , 3576 },
{97 , 3499 },
{98 , 3470 },
{99 , 3455 },
{99 , 3438 },
{100, 3420 },
{100, 3401 },
{100, 3385 },
{100, 3372 },
{100, 3363 } 
     
};           

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
{0  , 4330 },
{1  , 4308 },
{2  , 4291 },
{4  , 4275 },
{5  , 4261 },
{6  , 4247 },
{7  , 4232 },
{9  , 4218 },
{10 , 4204 },
{11 , 4191 },
{12 , 4178 },
{14 , 4165 },
{15 , 4152 },
{16 , 4139 },
{17 , 4126 },
{19 , 4114 },
{20 , 4102 },
{21 , 4089 },
{22 , 4077 },
{24 , 4068 },
{25 , 4062 },
{26 , 4051 },
{27 , 4033 },
{29 , 4013 },
{30 , 3997 },
{31 , 3985 },
{32 , 3978 },
{34 , 3973 },
{35 , 3966 },
{36 , 3957 },
{37 , 3948 },
{39 , 3938 },
{40 , 3929 },
{41 , 3918 },
{42 , 3906 },
{44 , 3893 },
{45 , 3880 },
{46 , 3867 },
{47 , 3857 },
{49 , 3849 },
{50 , 3842 },
{51 , 3836 },
{52 , 3830 },
{54 , 3824 },
{55 , 3819 },
{56 , 3814 },
{57 , 3810 },
{59 , 3805 },
{60 , 3801 },
{61 , 3797 },
{62 , 3793 },
{63 , 3789 },
{65 , 3785 },
{66 , 3782 },
{67 , 3779 },
{68 , 3775 },
{70 , 3772 },
{71 , 3770 },
{72 , 3767 },
{73 , 3764 },
{75 , 3761 },
{76 , 3756 },
{77 , 3749 },
{78 , 3743 },
{80 , 3738 },
{81 , 3731 },
{82 , 3720 },
{83 , 3709 },
{85 , 3695 },
{86 , 3688 },
{87 , 3687 },
{88 , 3686 },
{90 , 3685 },
{91 , 3684 },
{92 , 3682 },
{93 , 3670 },
{95 , 3631 },
{96 , 3575 },
{97 , 3510 },
{98 , 3479 },
{100, 3437 },
{100, 3324 } 
       
};     

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
{0  , 4334 },
{1  , 4314 },
{2  , 4297 },
{4  , 4281 },
{5  , 4266 },
{6  , 4252 },
{7  , 4238 },
{9  , 4223 },
{10 , 4210 },
{11 , 4196 },
{12 , 4182 },
{14 , 4169 },
{15 , 4156 },
{16 , 4143 },
{17 , 4129 },
{19 , 4117 },
{20 , 4104 },
{21 , 4092 },
{22 , 4080 },
{24 , 4068 },
{25 , 4056 },
{26 , 4044 },
{27 , 4033 },
{29 , 4021 },
{30 , 4011 },
{31 , 4000 },
{32 , 3990 },
{34 , 3979 },
{35 , 3969 },
{36 , 3960 },
{37 , 3951 },
{39 , 3942 },
{40 , 3932 },
{41 , 3923 },
{42 , 3913 },
{44 , 3902 },
{45 , 3888 },
{46 , 3874 },
{47 , 3861 },
{49 , 3852 },
{50 , 3845 },
{51 , 3837 },
{52 , 3832 },
{54 , 3826 },
{55 , 3820 },
{56 , 3815 },
{57 , 3810 },
{59 , 3805 },
{60 , 3801 },
{61 , 3797 },
{62 , 3792 },
{64 , 3788 },
{65 , 3784 },
{66 , 3781 },
{67 , 3778 },
{69 , 3774 },
{70 , 3770 },
{71 , 3762 },
{72 , 3754 },
{74 , 3749 },
{75 , 3744 },
{76 , 3739 },
{77 , 3734 },
{79 , 3727 },
{80 , 3722 },
{81 , 3716 },
{82 , 3705 },
{84 , 3695 },
{85 , 3683 },
{86 , 3673 },
{87 , 3672 },
{89 , 3671 },
{90 , 3670 },
{91 , 3669 },
{92 , 3666 },
{94 , 3654 },
{95 , 3610 },
{96 , 3550 },
{97 , 3491 },
{99 , 3475 },
{100, 3411 },
{100, 3292 } 
       
};           

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 },
{0, 0 } 

};    

// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
{302 , 4329 }, 
{302 , 4307 }, 
{308 , 4287 }, 
{314 , 4262 }, 
{327 , 4237 }, 
{344 , 4212 }, 
{365 , 4191 }, 
{384 , 4173 }, 
{400 , 4158 }, 
{414 , 4142 }, 
{426 , 4128 }, 
{435 , 4114 }, 
{441 , 4101 }, 
{446 , 4091 }, 
{460 , 4085 }, 
{474 , 4077 }, 
{480 , 4059 }, 
{477 , 4033 }, 
{476 , 4007 }, 
{482 , 3988 }, 
{486 , 3975 }, 
{490 , 3963 }, 
{493 , 3954 }, 
{498 , 3946 }, 
{500 , 3938 }, 
{499 , 3930 }, 
{495 , 3920 }, 
{492 , 3909 }, 
{489 , 3898 }, 
{489 , 3887 }, 
{489 , 3877 }, 
{492 , 3868 }, 
{498 , 3860 }, 
{504 , 3853 }, 
{512 , 3846 }, 
{518 , 3840 }, 
{526 , 3834 }, 
{537 , 3828 }, 
{546 , 3823 }, 
{554 , 3818 }, 
{564 , 3813 }, 
{576 , 3809 }, 
{585 , 3804 }, 
{595 , 3800 }, 
{606 , 3796 }, 
{617 , 3792 }, 
{629 , 3789 }, 
{640 , 3786 }, 
{652 , 3783 }, 
{664 , 3779 }, 
{674 , 3777 }, 
{684 , 3773 }, 
{695 , 3769 }, 
{704 , 3765 }, 
{714 , 3760 }, 
{722 , 3755 }, 
{733 , 3748 }, 
{742 , 3741 }, 
{752 , 3733 }, 
{763 , 3725 }, 
{774 , 3717 }, 
{790 , 3712 }, 
{812 , 3708 }, 
{837 , 3704 }, 
{868 , 3701 }, 
{909 , 3697 }, 
{957 , 3689 }, 
{1007, 3671 }, 
{1044, 3633 }, 
{1005, 3602 }, 
{945 , 3578 }, 
{896 , 3558 }, 
{854 , 3542 }, 
{821 , 3529 }, 
{794 , 3518 }, 
{773 , 3509 }, 
{757 , 3503 }, 
{745 , 3498 }, 
{735 , 3494 }, 
{728 , 3491 }, 
{721 , 3489 }, 
{716 , 3486 }  
       
};      

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
{209, 4322 }, 
{209, 4284 }, 
{233, 4253 }, 
{250, 4230 }, 
{257, 4213 }, 
{262, 4197 }, 
{265, 4183 }, 
{269, 4169 }, 
{272, 4156 }, 
{276, 4143 }, 
{280, 4130 }, 
{286, 4117 }, 
{289, 4105 }, 
{294, 4093 }, 
{297, 4083 }, 
{305, 4077 }, 
{319, 4071 }, 
{322, 4055 }, 
{319, 4031 }, 
{319, 4006 }, 
{322, 3988 }, 
{326, 3975 }, 
{327, 3965 }, 
{332, 3956 }, 
{333, 3950 }, 
{335, 3944 }, 
{333, 3937 }, 
{327, 3926 }, 
{321, 3915 }, 
{315, 3903 }, 
{309, 3891 }, 
{305, 3881 }, 
{300, 3870 }, 
{298, 3860 }, 
{299, 3852 }, 
{302, 3845 }, 
{304, 3838 }, 
{308, 3832 }, 
{313, 3827 }, 
{317, 3821 }, 
{323, 3816 }, 
{326, 3811 }, 
{335, 3807 }, 
{340, 3803 }, 
{345, 3799 }, 
{350, 3795 }, 
{357, 3791 }, 
{363, 3788 }, 
{369, 3784 }, 
{375, 3781 }, 
{382, 3779 }, 
{388, 3776 }, 
{395, 3774 }, 
{399, 3771 }, 
{405, 3769 }, 
{410, 3766 }, 
{413, 3763 }, 
{417, 3759 }, 
{428, 3754 }, 
{431, 3748 }, 
{433, 3740 }, 
{433, 3731 }, 
{440, 3720 }, 
{436, 3709 }, 
{437, 3703 }, 
{441, 3699 }, 
{445, 3697 }, 
{453, 3695 }, 
{466, 3693 }, 
{487, 3690 }, 
{514, 3680 }, 
{519, 3644 }, 
{526, 3576 }, 
{565, 3499 }, 
{675, 3470 }, 
{636, 3455 }, 
{595, 3438 }, 
{549, 3420 }, 
{503, 3401 }, 
{463, 3385 }, 
{436, 3372 }, 
{408, 3363 }  
     
};     

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
{121, 4330 },
{121, 4308 },
{123, 4291 },
{122, 4275 },
{122, 4261 },
{123, 4247 },
{123, 4232 },
{126, 4218 },
{125, 4204 },
{128, 4191 },
{130, 4178 },
{130, 4165 },
{131, 4152 },
{133, 4139 },
{135, 4126 },
{137, 4114 },
{139, 4102 },
{140, 4089 },
{143, 4077 },
{146, 4068 },
{151, 4062 },
{153, 4051 },
{153, 4033 },
{154, 4013 },
{157, 3997 },
{160, 3985 },
{166, 3978 },
{171, 3973 },
{174, 3966 },
{175, 3957 },
{177, 3948 },
{178, 3938 },
{178, 3929 },
{176, 3918 },
{169, 3906 },
{158, 3893 },
{146, 3880 },
{137, 3867 },
{132, 3857 },
{129, 3849 },
{128, 3842 },
{129, 3836 },
{129, 3830 },
{129, 3824 },
{130, 3819 },
{132, 3814 },
{133, 3810 },
{133, 3805 },
{136, 3801 },
{137, 3797 },
{138, 3793 },
{140, 3789 },
{140, 3785 },
{142, 3782 },
{142, 3779 },
{143, 3775 },
{144, 3772 },
{144, 3770 },
{145, 3767 },
{144, 3764 },
{143, 3761 },
{140, 3756 },
{136, 3749 },
{135, 3743 },
{136, 3738 },
{137, 3731 },
{136, 3720 },
{137, 3709 },
{136, 3695 },
{134, 3688 },
{135, 3687 },
{138, 3686 },
{141, 3685 },
{147, 3684 },
{154, 3682 },
{157, 3670 },
{163, 3631 },
{171, 3575 },
{192, 3510 },
{255, 3479 },
{280, 3437 },
{311, 3324 } 
     
}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
{101, 4334 },
{101, 4314 },
{102, 4297 },
{102, 4281 },
{103, 4266 },
{104, 4252 },
{103, 4238 },
{103, 4223 },
{104, 4210 },
{106, 4196 },
{105, 4182 },
{107, 4169 },
{108, 4156 },
{107, 4143 },
{108, 4129 },
{109, 4117 },
{110, 4104 },
{111, 4092 },
{111, 4080 },
{112, 4068 },
{112, 4056 },
{115, 4044 },
{116, 4033 },
{116, 4021 },
{119, 4011 },
{118, 4000 },
{121, 3990 },
{123, 3979 },
{124, 3969 },
{128, 3960 },
{131, 3951 },
{134, 3942 },
{137, 3932 },
{142, 3923 },
{143, 3913 },
{142, 3902 },
{133, 3888 },
{120, 3874 },
{112, 3861 },
{109, 3852 },
{108, 3845 },
{106, 3837 },
{107, 3832 },
{108, 3826 },
{108, 3820 },
{109, 3815 },
{111, 3810 },
{111, 3805 },
{112, 3801 },
{113, 3797 },
{116, 3792 },
{116, 3788 },
{117, 3784 },
{119, 3781 },
{121, 3778 },
{121, 3774 },
{122, 3770 },
{115, 3762 },
{111, 3754 },
{112, 3749 },
{113, 3744 },
{113, 3739 },
{112, 3734 },
{110, 3727 },
{111, 3722 },
{112, 3716 },
{110, 3705 },
{112, 3695 },
{112, 3683 },
{108, 3673 },
{109, 3672 },
{110, 3671 },
{114, 3670 },
{118, 3669 },
{125, 3666 },
{126, 3654 },
{129, 3610 },
{137, 3550 },
{168, 3491 },
{188, 3475 },
{186, 3411 },
{233, 3292 } 
       
}; 

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }, 
{0, 0 }  

};    
//xuzhifeng 20150724 end
// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

